server:
  port: ${PORT:8080}

# Application specific settings for Railway
app:
  upload-dir: ${UPLOAD_DIR:/tmp/uploads}
  frontend-url: ${FRONTEND_URL:https://zpluse.com}
  mail:
    from: ${MAIL_FROM:nexgensolutions.build@gmail.com}
    admin-email: ${ADMIN_EMAIL:nexgensolutions.build@gmail.com}

spring:
  application:
    name: zplus-admin-panel
  
  datasource:
    # Railway DATABASE_URL will be converted programmatically
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://gondola.proxy.rlwy.net:51397/zplus_admin_panel}
    driver-class-name: org.postgresql.Driver
    # Username and password will be extracted from DATABASE_URL
    hikari:
      maximum-pool-size: 3
      minimum-idle: 1
      connection-timeout: 20000
      validation-timeout: 5000
      idle-timeout: 300000
      max-lifetime: 600000
      leak-detection-threshold: 60000
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        jdbc:
          time_zone: UTC
        connection:
          provider_disables_autocommit: false
    open-in-view: false
    defer-datasource-initialization: true

  # Email Configuration for Railway
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME:nexgensolutions.build@gmail.com}
    password: ${MAIL_PASSWORD:your_app_password_here}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          timeout: 8000
          connectiontimeout: 8000
          writetimeout: 8000

# Simplified management endpoints
management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: always

logging:
  level:
    root: INFO
    com.zplus: DEBUG
